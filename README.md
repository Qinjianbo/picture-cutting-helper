# 切图助手 (Image Slicer)

## 简介

切图助手是一款Chrome插件，可以帮助设计师和开发者快速将大图切割成多个小图片。

## 功能特点

- 支持三种切割模式：
  - 均匀切割：将图片均匀切割成 N×N 的小图片
  - 自定义尺寸：指定每个小图片的宽度和高度
  - 自动识别：根据图片透明区域自动检测切割位置（推荐使用PNG格式）
- 支持多种图片格式：PNG（推荐）、JPG、JPEG
- 支持预览切割效果
- 自动打包下载所有切割后的图片

## 使用说明

1. 点击浏览器右上角的插件图标
2. 点击或拖拽图片到上传区域
3. 选择切割方式：
   - 均匀切割：设置要切割的行数和列数
   - 自定义尺寸：设置每个小图片的宽度和高度
   - 自动识别：适用于带透明背景的PNG图片，自动检测切割位置
4. 点击"预览"查看切割效果
5. 确认无误后点击"开始切割"
6. 切割完成后会自动下载一个zip文件，包含所有切割后的图片

## 最佳实践

### 自动识别模式
- 使用PNG格式的图片
- 确保图片有透明背景
- 图片元素之间需要有透明间隔
- 建议先使用预览功能查看切割效果
- 支持手动调整切割线位置：
  - 预览后可以拖动粉色切割线调整位置
  - 鼠标悬停在切割线上会显示调整手柄
  - 拖动切割线时会实时更新预览效果
  - 调整完成后点击"开始切割"即可

### 自动识别的工作原理
1. 扫描图片的透明区域
2. 识别连续的透明像素形成的分割线
3. 自动计算出最优的切割位置
4. 生成初始切割方案
5. 允许用户手动微调切割线
6. 根据最终切割线位置进行切片

### 自动识别的使用建议
1. 准备图片时：
   - 使用透明背景的PNG格式
   - 确保图片元素之间有足够的透明间隔（建议至少2-3像素）
   - 避免元素之间有部分重叠
   - 保持透明区域的清晰和连续

2. 切割时：
   - 上传图片后先使用预览功能
   - 检查自动识别的切割线是否准确
   - 如需调整，可拖动切割线微调位置
   - 调整到满意后再进行切割

### 均匀切割模式
- 适用于规则的图片网格
- 所有小图尺寸相同的情况

### 自定义尺寸模式
- 适用于固定尺寸的切图需求
- 可以处理任意格式的图片

## 技术栈

- HTML5 Canvas
- JavaScript
- Chrome Extension API

## 开发说明

- popup.html: 插件弹出窗口的界面
- popup.js: 主要的切图逻辑实现
- manifest.json: 插件配置文件
- styles.css: 界面样式

## 项目结构

```
切图助手/
├── images/               # 插件图标
│   ├── icon16.png       # 16x16 像素图标
│   ├── icon48.png       # 48x48 像素图标
│   └── icon128.png      # 128x128 像素图标
├── lib/                 # 第三方库
│   └── jszip.min.js     # JSZip 库用于生成压缩包
├── manifest.json        # 插件配置文件
├── popup.html          # 插件弹出窗口的 HTML
├── popup.js            # 主要的切图逻辑实现
├── styles.css          # 界面样式表
└── README.md           # 项目说明文档
```

### 文件说明

- **manifest.json**: 定义插件的基本信息、权限和资源
  - 包含插件名称、版本、描述
  - 定义需要的权限（如下载、剪贴板）
  - 指定图标和弹出窗口

- **popup.html**: 插件的用户界面
  - 图片上传区域
  - 切割模式选择
  - 参数设置控件
  - 操作按钮

- **popup.js**: 核心功能实现
  - 图片处理逻辑
  - 自动识别算法
  - 切割线调整功能
  - 切片生成和下载

- **styles.css**: 界面样式定义
  - 布局和定位
  - 交互效果
  - 主题样式

- **lib/jszip.min.js**: 第三方压缩库
  - 用于将切割后的图片打包
  - 生成可下载的 zip 文件

- **images/**: 插件图标目录
  - 包含不同尺寸的图标
  - 用于插件在浏览器中的显示

